<div *ngIf="!isLoading">
  @if (data.clickedPlace === 'acc') {
    <div class="modal w-[400px] py-8 px-6">
      <div class="flex justify-between w-full mb-5">
        <div class="flex items-center gap-4">
          <div>
            <img class="h-11 w-11" src="images/accProfile.png" alt="" />
          </div>
          <div>
            <p class="text-[#101828] text-lg !mb-0">Acc</p>
            <span class="text-[#475467] text-sm">my profile</span>
          </div>
        </div>
        <div mat-dialog-close class="w-[45px] cursor-pointer">
          <img class="w-full" src="images/close.png" alt="" />
        </div>
      </div>
      <hr />

      <form [formGroup]="accountForm" class="w-full" (ngSubmit)="accFormSubmit()">
        <label class="text-[#667085] text-sm font-medium" for="name">Name</label>
        <input
          formControlName="name"
          class="w-full border rounded-md border-solid border-[#D0D5DD] py-3 px-4 outline-none mb-1"
          id="name"
          type="text"
          placeholder="Name"
        />
        @if (accountForm.controls['name'].touched && accountForm.controls['name'].hasError('required')) {
          <mat-error class="mb-2 text-red-600 block">Name is <strong>required</strong></mat-error>
        }
        <label class="text-[#667085] text-sm font-medium" for="surname">Surname</label>
        <input
          formControlName="surname"
          class="w-full border rounded-md border-solid border-[#D0D5DD] py-3 px-4 outline-none mb-1"
          id="surname"
          type="text"
          placeholder="Surname"
        />
        @if (accountForm.controls['surname'].touched && accountForm.controls['surname'].hasError('required')) {
          <mat-error class="mb-2 text-red-600 block">Surname is <strong>required</strong></mat-error>
        }
        <label class="text-[#667085] text-sm font-medium" for="username">Username</label>
        <input
          formControlName="username"
          class="w-full border rounded-md border-solid border-[#D0D5DD] py-3 px-4 outline-none mb-1"
          id="username"
          type="text"
          placeholder="Username"
        />
        @if (accountForm.controls['username'].touched && accountForm.controls['username'].hasError('required')) {
          <mat-error class="mb-2 text-red-600 block">Username is <strong>required</strong></mat-error>
        }
        <label class="text-[#667085] text-sm font-medium" for="email">Email</label>
        <input
          formControlName="email"
          class="w-full border rounded-md border-solid border-[#D0D5DD] py-3 px-4 outline-none mb-1"
          id="email"
          type="email"
          placeholder="Email"
        />
        @if (accountForm.controls['email'].touched && accountForm.controls['email'].hasError('required')) {
          <mat-error class="mb-2 text-red-600 block">Email is <strong>required</strong></mat-error>
        }
        @if (accountForm.controls['email'].hasError('email')) {
          <mat-error class="mb-2 text-red-600 block">Email is not <strong>valid !</strong></mat-error>
        }
        <div class="relative">
          <label class="text-[#667085] text-sm font-medium" for="password">Password</label>
          <input
            formControlName="password"
            #inp
            class="w-full border rounded-md border-solid border-[#D0D5DD] py-3 px-4 outline-none mb-5"
            id="password"
            type="password"
            placeholder="Password"
          />
          @if (accountForm.controls['password'].hasError('required')) {
            <mat-error class="mb-2 text-red-600 block">Password is <strong>required </strong></mat-error>
          } @else if (accountForm.controls['password'].hasError('minlength')) {
            <mat-error class="mb-2 text-red-600 block"
              >Minimum length should be <strong>6 </strong> characters !</mat-error
            >
          }
          @if (inp.type === 'password') {
            <img
              class="w-5 absolute top-[33px] bottom-0 left-[314px]"
              (click)="inp.type = 'text'"
              src="images/closed.svg"
              alt=""
            />
          } @else {
            <img
              class="w-5 absolute top-[33px] bottom-0 left-[314px]"
              (click)="inp.type = 'password'"
              src="images/eye.svg"
              alt=""
            />
          }
        </div>
        <hr />
        <div class="flex justify-between mt-5">
          <button
            mat-dialog-close
            class="py-3 px-4 bg-transparent border rounded-md border-solid border-[#D0D5DD] w-[173px]"
          >
            Cancel
          </button>
          <button
            class="py-3 px-4 bg-green-500 w-[173px] border rounded-md hover:bg-green-600 text-white"
            type="submit"
            [disabled]="accountForm.invalid"
          >
            Storage
          </button>
        </div>
      </form>
    </div>
  }
  @if (data.clickedPlace === 'myideas') {
    <div class="modal py-8 px-6 w-[732px]">
      <div class="flex justify-between w-full mb-5">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12">
            <img class="h-full w-full" src="images/smile.png" alt="" />
          </div>
          <div>
            <p class="text-[#101828] !text-[18px] !mb-0">My ideas</p>
            <span class="text-[#475467] text-sm">Write your thoughts</span>
          </div>
        </div>
        <div mat-dialog-close class="w-[45px] cursor-pointer">
          <img class="w-full" src="images/close.png" alt="" />
        </div>
      </div>
      <hr />
      <form [formGroup]="myideaForm" (ngSubmit)="myIdeasFormSubmit()">
        <div class="flex w-full justify-between items-center gap-2 mt-8">
          <div class="w-[50%]">
            <label class="text-[#667085] text-sm font-medium" for="name">Title</label>
            <input
              formControlName="title"
              class="w-full border rounded-md border-solid border-[#D0D5DD] py-3 px-4 outline-none mb-5"
              id="title"
              type="text"
              placeholder="Title"
            />
          </div>
          <div class="w-[50%]">
            <select
              #select
              id="category"
              formControlName="categoryId"
              class="bg-gray-100 border border-gray-200 text-sm rounded-lg py-3 px-4 w-full p-2.5 dark:bg-gray-300 placeholder-gray-200 text-gray-900 outline-none"
            >
              @for (item of categories; track $index) {
                <option [value]="item.id" [selected]="$index == 0">{{ item.name }}</option>
              }
            </select>
          </div>
        </div>
        <div>
          <mat-error class="mb-2 text-red-600 block">
            @if (myideaForm.controls['title'].touched && myideaForm.controls['title'].hasError('required')) {
              Title is <strong>required</strong>
            } @else if (myideaForm.controls['title'].hasError('minlength')) {
              Minimum length should be <strong>2 </strong> characters !
            }
          </mat-error>
        </div>

        <div>
          <textarea
            name="description"
            formControlName="description"
            class="w-full min-h-[188px] border rounded-md border-solid px-3 py-2 border-[#D0D5DD] outline-none mb-5"
            placeholder="Enter a description..."
          ></textarea>
          @if (myideaForm.controls['description'].touched && myideaForm.controls['description'].hasError('required')) {
            <mat-error class="mb-2 text-red-600 block">Description is <strong>required</strong></mat-error>
          } @else if (myideaForm.controls['description'].hasError('minlength')) {
            <mat-error class="mb-2 text-red-600 block"
              >Minimum length should be <strong>10 </strong> characters !</mat-error
            >
          }
        </div>
        <hr />
        <div class="flex justify-between mt-5 gap-5">
          <button
            mat-dialog-close
            class="py-3 px-4 bg-transparent border rounded-md border-solid border-[#D0D5DD] hover:bg-gray-50 w-[372px]"
          >
            Cancel
          </button>
          <button
            class="py-3 px-4 bg-green-500 w-[372px] border rounded-md hover:bg-green-600 text-white"
            type="submit"
            [disabled]="myideaForm.invalid"
          >
            Storage
          </button>
        </div>
      </form>
    </div>
  }
</div>
